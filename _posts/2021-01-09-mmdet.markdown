---
layout:     post
title:      "哈哈哈目标检测🧸1——mmdetection学习记录"
subtitle:   " \"mmdetection工具箱学习记录\""
date:       2021-01-09 20:19:00
author:     "fuhao7i"
header-img: "img/in-post/mubiaojiance.jpg"
catalog: true
tags:
    - 哈哈哈目标检测🧸
---

# 1.Google colab环境配置

Google colab提供的免费GPU，是我目前学习的主要工具。很适合还没有进组的同学们进行深度学习练手和学习。

## 1.1 连接Google Drive

```python
# 连接Google云盘
import os
from google.colab import drive
drive.mount('/content/drive')
# path是ipynb的工作路径
path = "/content/drive/My Drive/水下目标检测/HitDetection"

os.chdir(path)
os.listdir(path)
```

## 1.2 安装Anaconda3

```Bash
!wget -q https://repo.anaconda.com/archive/Anaconda3-2019.10-Linux-x86_64.sh
!chmod +x Anaconda3-2019.10-Linux-x86_64.sh
!bash ./Anaconda3-2019.10-Linux-x86_64.sh -b -f -p /content/drive/MyDrive/anaconda3
# set PATH environment variable
# 添加到系统变量中
import os
os.environ['PATH'] = "/content/drive/MyDrive/anaconda3/bin:" + os.environ['PATH']
```

查看当前所有的环境变量：

```python
import os
os.environ.key() #查看当前所有的环境变量
```

colab中用anaconda环境来运行python文件：

```Bash
!source activate 环境名 && python 文件.py
```

## 1.3 安装gcc(g++5)

由于系统自带了一个版本的gcc，所以我们需要先删除系统的gcc文件，再安装我们需要的版本。

```Bash
!apt-get install gcc-5 g++-5
!cd /usr/bin && sudo rm gcc-7 g++-7 gcc g++ && sudo ln gcc-5 gcc && sudo ln g++-5 g++
```

## 1.4 安装pytorch和cudatoolkit

[注意torch和cuda的版本，这里是torch的一个官方文档，可以查看版本对应关系。](https://pytorch.org/get-started/previous-versions/)

```Bash
!conda install cython
!conda install pytorch=1.3.1 torchvision cudatoolkit=10.0 nccl -c pytorch
```
