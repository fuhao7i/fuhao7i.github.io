---
layout:     post
title:      "Neural NetworkğŸ¦–7â€”â€”How to clip gradient?"
subtitle:   " \"clip grad, Gradient clipping, Gradient Scaling\""
date:       2021-04-07 11:12:00
author:     "fuhao7i"
header-img: "img/in-post/nn.jpg"
catalog: true
tags:
    - Neural NetworkğŸ¦–
---

- Due to the improper selection of the learning rate, the weight update is larger.
- There is a lot of noise in the prepared data, resulting in large differences in target variables.
- The improper selection of the loss function results in the calculation of a larger error value.

æ¢¯åº¦çˆ†ç‚¸çš„ä¸€ç§å¸¸è§è§£å†³æ–¹æ³•æ˜¯å…ˆæ›´æ”¹è¯¯å·®å¯¼æ•°ï¼Œç„¶åé€šè¿‡ç½‘ç»œåå‘ä¼ æ’­è¯¯å·®å¯¼æ•°ï¼Œç„¶åä½¿ç”¨å®ƒæ¥æ›´æ–°æƒé‡ã€‚é€šè¿‡é‡æ–°ç¼©æ”¾è¯¯å·®å¯¼æ•°ï¼Œæƒé‡çš„æ›´æ–°ä¹Ÿå°†è¢«é‡æ–°ç¼©æ”¾ï¼Œä»è€Œå¤§å¤§é™ä½äº†ä¸Šæº¢(NaN)æˆ–ä¸‹æº¢(Inf)çš„å¯èƒ½æ€§ã€‚æ›´æ–°è¯¯å·®å¯¼æ•°çš„ä¸»è¦æ–¹æ³•æœ‰ä¸¤ç§ï¼š

- æ¢¯åº¦ç¼©æ”¾ Gradient Scaling
- æ¢¯åº¦è£å‰ª Gradient Clipping

æ¢¯åº¦ç¼©æ”¾æ¶‰åŠå¯¹è¯¯å·®æ¢¯åº¦å‘é‡è¿›è¡Œå½’ä¸€åŒ–ï¼Œä»¥ä½¿å‘é‡èŒƒæ•°å¤§å°ç­‰äºå®šä¹‰çš„å€¼ï¼Œä¾‹å¦‚1.0ã€‚åªè¦å®ƒä»¬è¶…è¿‡é˜ˆå€¼ï¼Œå°±é‡æ–°ç¼©æ”¾å®ƒä»¬ã€‚å¦‚æœæ¸å˜è¶…å‡ºäº†é¢„æœŸèŒƒå›´ï¼Œåˆ™æ¸å˜è£å‰ªä¼šå¼ºåˆ¶å°†æ¸å˜å€¼ï¼ˆé€ä¸ªå…ƒç´ ï¼‰å¼ºåˆ¶ä¸ºç‰¹å®šçš„æœ€å°å€¼æˆ–æœ€å¤§å€¼ã€‚è¿™äº›æ–¹æ³•é€šå¸¸ç®€ç§°ä¸ºæ¢¯åº¦è£å‰ªã€‚

`å®ƒæ˜¯ä¸€ç§ä»…è§£å†³è®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹çš„æ•°å€¼ç¨³å®šæ€§ï¼Œè€Œä¸èƒ½æ”¹è¿›ç½‘ç»œæ€§èƒ½çš„æ–¹æ³•ã€‚`

# reference

1. [ã€è°ƒå‚19ã€‘å¦‚ä½•ä½¿ç”¨æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰é¿å…æ¢¯åº¦çˆ†ç‚¸](https://blog.csdn.net/weixin_39653948/article/details/105962326)